jQuery(document).ready(function($){function seopress_call_media_uploader(){var mediaUploader;var thumb;$(".seopress_video_thumbnail_upload").click(function(e){e.preventDefault();$btn=$(this);if(mediaUploader){mediaUploader.open();return}
thumb=$(this).prev();mediaUploader=wp.media.frames.file_frame=wp.media({multiple:!1,});mediaUploader.on("select",function(){var attachment=mediaUploader.state().get("selection").first().toJSON();$btn.prev().val(attachment.url)});mediaUploader.open()})}
seopress_call_media_uploader();var template=$("#wrap-videos .video:last").clone();var stop=!1;$("#wrap-videos .video h3").click(function(event){if(stop){event.stopImmediatePropagation();event.preventDefault();stop=!1}});function seopress_call_video_accordion(){$("#wrap-videos .video").accordion({animate:!1,collapsible:!0,active:!1,heightStyle:"panel",})}
seopress_call_video_accordion();var sectionsCount=$("#wrap-videos").attr("data-count");$("#add-video").click(function(){sectionsCount++;var section=template.clone().find(":input").each(function(){var input_id=this.id;var input_name=this.name;var newId=this.id.replace(/^(\w+)\[.*?\]/,"$1["+sectionsCount+"]");$(this).attr("name",input_name.replace(/^(\w+)\[.*?\]/,"$1["+sectionsCount+"]"));if(!$(this).hasClass("seopress_video_thumbnail_upload")){$(this).attr("value","")}
if($(this).is(":checkbox")){$(this).parent().attr("for",input_id.replace(/^(\w+)\[.*?\]/,"$1["+sectionsCount+"]"));$(this).parent().attr("id",input_name.replace(/^(\w+)\[.*?\]/,"$1["+sectionsCount+"]"))}else if($(this).hasClass("seopress_video_thumbnail_upload")){}else{$(this).prev().attr("for",input_id.replace(/^(\w+)\[.*?\]/,"$1["+sectionsCount+"]"));$(this).prev().attr("id",input_name.replace(/^(\w+)\[.*?\]/,"$1["+sectionsCount+"]"))}
this.id=newId}).end().appendTo("#wrap-videos");seopress_call_video_accordion();$("#wrap-videos .video").accordion("destroy");seopress_call_video_accordion();$("[id^=__wp-uploader-id-]").each(function(){$(this).remove()});seopress_call_media_uploader();return!1});$("#wrap-videos").on("click",".remove-video",function(){$(this).fadeOut(300,function(){$(this).parent().parent().parent().remove();return!1});return!1})})