(()=>{"use strict";const e=window.wp.blocks,t=window.wp.i18n,s=window.wp.blockEditor,n=window.wp.data;var a=window.wp,r=a.data.withSelect,o=(a.element.Component,a.components),l=o.Spinner,i=o.Button,c=(o.ResponsiveWrapper,a.compose.compose),__=a.i18n.__,u=["image"];const p=c(r((function(e,t){return{image:t.value?e("core").getMedia(t.value):null}})))((function(e){var t=e.value,n=e.image,a=React.createElement("p",null,__("To edit the background image, you need permission to upload media.","wp-seopress"));return React.createElement("div",{className:"wp-block-wp-seopress-image"},React.createElement(s.MediaUploadCheck,{fallback:a},React.createElement(s.MediaUpload,{title:__("Set Image","wp-seopress"),onSelect:function(t){e.onSelect(t.id,e.index)},allowedTypes:u,value:t,render:function(s){var a=s.open,r=function(t){var s=null;try{if(null!=t&&((s={}).source_url=t.guid.raw,null!=t.media_details.sizes))switch(s=null,e.imageSize){case"thumbnail":s=null!=t?t.media_details.sizes.thumbnail:null;break;case"medium":s=null!=t?t.media_details.sizes.medium:null;break;case"large":s=null!=t?null!=t.media_details.sizes.large?t.media_details.sizes.large:t.media_details.sizes.medium_large:null;break;default:s=null!=t?t.media_details.sizes.full:null}return s}catch(e){return s}}(n);return React.createElement(i,{className:t?"editor-post-featured-image__preview":"editor-post-featured-image__toggle",onClick:a},!t&&__("Set Image","wp-seopress"),!!t&&!n&&React.createElement(l,null),!!t&&n&&r&&r.source_url&&React.createElement("img",{src:r.source_url,alt:__("Set Image","wp-seopress")}))}})),!!t&&React.createElement(s.MediaUploadCheck,null,React.createElement(i,{onClick:function(){e.onRemoveImage(e.index)},isLink:!0,isDestructive:!0},__("Remove Image","wp-seopress"))))})),m=window.wp.components,f=function(e){var n=e.attributes,a=e.setAttributes,r=n.listStyle,o=n.titleWrapper,l=n.imageSize,i=n.showFAQScheme,c=n.showAccordion,u=n.isProActive;return React.createElement(s.InspectorControls,null,React.createElement(m.PanelBody,{title:(0,t.__)("FAQ Settings","wp-seopress")},React.createElement(m.PanelRow,{className:"wpseopress-faqs-list-style"},React.createElement("h3",null,(0,t.__)("List Style","wp-seopress")),React.createElement(m.ButtonGroup,null,React.createElement(m.Button,{isPressed:"none"==r,onClick:function(e){a({listStyle:"none"})}},(0,t._x)("NONE","Div tag List","wp-seopress")),React.createElement(m.Button,{isPressed:"ol"==r,onClick:function(e){a({listStyle:"ol"})}},(0,t._x)("OL","Numbered List","wp-seopress")),React.createElement(m.Button,{isPressed:"ul"==r,onClick:function(e){a({listStyle:"ul"})}},(0,t._x)("UL","Unordered List","wp-seopress")))),React.createElement(m.PanelRow,{className:"wpseopress-faqs-title-wrapper"},React.createElement("h3",null,(0,t.__)("Title Wrapper","wp-seopress")),React.createElement(m.ButtonGroup,null,React.createElement(m.Button,{isPressed:"h2"==o,onClick:function(e){a({titleWrapper:"h2"})}},(0,t._x)("H2","H2 title tag","wp-seopress")),React.createElement(m.Button,{isPressed:"h3"==o,onClick:function(e){a({titleWrapper:"h3"})}},(0,t._x)("H3","H3 title tag","wp-seopress")),React.createElement(m.Button,{isPressed:"h4"==o,onClick:function(e){a({titleWrapper:"h4"})}},(0,t._x)("H4","H4 title tag","wp-seopress")),React.createElement(m.Button,{isPressed:"h5"==o,onClick:function(e){a({titleWrapper:"h5"})}},(0,t._x)("H5","H5 title tag","wp-seopress")),React.createElement(m.Button,{isPressed:"h6"==o,onClick:function(e){a({titleWrapper:"h6"})}},(0,t._x)("H6","H6 title tag","wp-seopress")),React.createElement(m.Button,{isPressed:"p"==o,onClick:function(e){a({titleWrapper:"p"})}},(0,t._x)("P","P title tag","wp-seopress")),React.createElement(m.Button,{isPressed:"div"==o,onClick:function(e){a({titleWrapper:"div"})}},(0,t._x)("DIV","DIV title tag","wp-seopress")))),React.createElement(m.PanelRow,{className:"wpseopress-faqs-image-size"},React.createElement("h3",null,(0,t.__)("Image Size","wp-seopress")),React.createElement(m.ButtonGroup,null,React.createElement(m.Button,{isPressed:"thumbnail"==l,onClick:function(e){a({imageSize:"thumbnail"})}},(0,t._x)("S","Thubmnail Size","wp-seopress")),React.createElement(m.Button,{isPressed:"medium"==l,onClick:function(e){a({imageSize:"medium"})}},(0,t._x)("M","Medium Size","wp-seopress")),React.createElement(m.Button,{isPressed:"large"==l,onClick:function(e){a({imageSize:"large"})}},(0,t._x)("L","Large Size","wp-seopress")),React.createElement(m.Button,{isPressed:"full"==l,onClick:function(e){a({imageSize:"full"})}},(0,t._x)("XL","Original Size","wp-seopress")))),u&&React.createElement(React.Fragment,null,React.createElement(m.PanelRow,{className:"wpseopress-faqs-seo-settings"},React.createElement("h3",null,(0,t.__)("SEO Settings","wp-seopress")),React.createElement(m.ToggleControl,{label:(0,t.__)("Enable FAQ Schema","wp-seopress"),checked:!!i,onChange:function(e){a({showFAQScheme:!i})}}))),React.createElement(m.PanelRow,{className:"wpseopress-faqs-display-settings"},React.createElement("h3",null,(0,t.__)("Display","wp-seopress")),React.createElement(m.ToggleControl,{label:(0,t.__)("Enable accordion","wp-seopress"),checked:!!c,onChange:function(e){a({showAccordion:!c})}}))))};function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function w(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function g(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?w(Object(s),!0).forEach((function(t){var n,a,r,o;n=e,a=t,r=s[t],o=function(e,t){if("object"!=d(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,"string");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a),(a="symbol"==d(o)?o:String(o))in n?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):w(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=new Array(t);s<t;s++)n[s]=e[s];return n}const b=(0,n.withSelect)((function(e,t){var s=t.attributes,n=e("core").getMedia,a=s.selectedImageId;return{selectedImage:a?n(a):0}}))((function(e){var n=e.attributes,a=e.setAttributes,r=n.listStyle,o=function(){return"none"===n.listStyle&&n.faqs.map((function(e,a){return React.createElement("div",{key:a,className:"wpseopress-faqs-area"},React.createElement("div",{className:"wpseopress-faq"},React.createElement(s.RichText,{tagName:n.titleWrapper,className:"wpseopress-faq-question",placeholder:(0,t.__)("Question...","wp-seopress"),value:e?e.question:"",onChange:function(e){return i(e,a)}}),React.createElement("div",{className:"wpseopress-answer-meta"},React.createElement(p,{value:e?e.image:"",onSelect:u,onRemoveImage:m,imageSize:n.imageSize,index:a}),React.createElement(s.RichText,{tagName:"p",className:"wpseopress-faq-answer",placeholder:(0,t.__)("Answer...","wp-seopress"),value:e?e.answer:"",onChange:function(e){return c(e,a)}}))),React.createElement("div",{className:"wpseopress-faq-cta"},React.createElement("button",{className:"components-button is-tertiary is-destructive",value:(0,t.__)("Remove","wp-seopress"),onClick:function(){return l(a)}},(0,t.__)("Remove","wp-seopress"))))}))||("ul"===n.listStyle||"ol"===n.listStyle)&&n.faqs.map((function(e,a){return React.createElement("li",{key:a,className:"wpseopress-faqs-area"},React.createElement("div",{className:"wpseopress-faq"},React.createElement(s.RichText,{tagName:n.titleWrapper,className:"wpseopress-faq-question",placeholder:(0,t.__)("Question...","wp-seopress"),value:e?e.question:"",onChange:function(e){return i(e,a)}}),React.createElement("div",{className:"wpseopress-answer-meta"},React.createElement(p,{value:e?e.image:"",onSelect:u,onRemoveImage:m,imageSize:n.imageSize,index:a}),React.createElement(s.RichText,{tagName:"div",className:"wpseopress-faq-answer",placeholder:(0,t.__)("Answer...","wp-seopress"),value:e?e.answer:"",onChange:function(e){return c(e,a)}}))),React.createElement("div",{className:"wpseopress-faq-cta"},React.createElement("button",{className:"components-button is-tertiary is-destructive",value:(0,t.__)("Remove","wp-seopress"),onClick:function(){return l(a)}},(0,t.__)("Remove","wp-seopress"))))}))},l=function(t){var s=n.faqs.filter((function(e,s){return s!==t}));e.setAttributes({faqs:s})},i=function(t,s){var a=n.faqs.map((function(e,n){return n!==s?e:g(g({},e),{},{question:t})}));e.setAttributes({faqs:a})},c=function(t,s){var a=n.faqs.map((function(e,n){return n!==s?e:g(g({},e),{},{answer:t})}));e.setAttributes({faqs:a})},u=function(t,s){var a=n.faqs.map((function(e,n){return n!==s?e:g(g({},e),{},{image:t})}));e.setAttributes({faqs:a})},m=function(t){var s=n.faqs.map((function(e,s){return s!==t?e:g(g({},e),{},{image:null})}));e.setAttributes({faqs:s})};return React.createElement(React.Fragment,null,React.createElement(f,{attributes:n,setAttributes:a}),React.createElement("div",(0,s.useBlockProps)({className:"wpseopress-faqs"}),"ul"===r&&React.createElement("ul",null,o()),"ol"===r&&React.createElement("ol",null,o()),"none"===r&&o(),React.createElement("div",{className:"wpseopress-faqs-actions"},React.createElement("button",{type:"button",title:(0,t.__)("Add FAQ","wp-seopress"),className:"add-faq components-button is-secondary",onClick:function(t){var s;t.preventDefault(),e.setAttributes({faqs:[].concat((s=n.faqs,function(e){if(Array.isArray(e))return R(e)}(s)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(s)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?R(e,t):void 0}}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{question:"",answer:"",image:""}])})}},(0,t.__)("Add FAQ","wp-seopress")))))})),v=JSON.parse('{"u2":"wpseopress/faq-block"}');(0,e.registerBlockType)(v.u2,{title:(0,t.__)("FAQ","wp-seopress"),description:(0,t.__)("Allows to easily build FAQs.","wp-seopress"),keywords:[(0,t.__)("FAQ","wp-seopress")],edit:b,save:function(){return null}})})();