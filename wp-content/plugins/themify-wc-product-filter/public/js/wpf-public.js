!function($){"use strict";var t=!1,n=300;var i=(t,n,i)=>{if(n&&!0===n())return void(i&&i());const o=document.createElement("script");o.setAttribute("async","async"),o.onload=i,document.head.appendChild(o),o.setAttribute("src",t)},o=(t,n)=>{0!==t.length?i(t[0][0],t[0][1],(()=>{t.shift(),o(t,n)})):n()},e=(t=null)=>{var n=$(".wpf-search-container",t).first();return 0===n.length&&0===(n=$(".wc-products.loops-wrapper",t).parent()).length&&0===(n=$(".woocommerce ul.products",t).parent()).length&&0===(n=$("ul.products",t).parent()).length&&(n=$(".post",t).first()),n.first().addClass("wpf-search-container")},f=function(){var n;$("body").off("submit.wpfForm").on("submit.wpfForm",".wpf_form",(function(i){i.preventDefault();var o=$(this),f=e(),p=o.serializeArray(),r={},s=o.hasClass("wpf_form_scroll");for(var a in p)if(p[a].value.trim()){var u=p[a].name.replace("[]","");r[u]?r[u]+=","+p[a].value:r[u]=p[a].value}if(t&&(r.append=1),o.find('input[name="wpf_page"]').val(""),f.length&&"function"==typeof Isotope){const t=f[0].getElementsByClassName("products");n=n||t.length>0&&Isotope.data(t[0])}o.hasClass("wpf_form_ajax")&&!f.length&&o.removeClass("wpf_form_ajax").attr("action",o.attr("data-shop"));var w=new URL(o.prop("action"));for(const t in r)w.searchParams.set(t,r[t]);if(!o.hasClass("wpf_form_ajax"))return window.location=""+w,!1;w.searchParams.set("wpf_ajax",1),$.ajax({url:""+w,type:"GET",beforeSend(){document.body.classList.add("wpf_loading"),o.addClass("wpf-search-submit"),f.addClass("wpf-container-wait")},complete(){document.body.classList.remove("wpf_loading"),o.removeClass("wpf-search-submit"),f.removeClass("wpf-container-wait")},success(i){if(i){w.searchParams.delete("wpf_ajax"),history.replaceState({},null,""+w);var p=f,a=null,u=$(".products",f).attr("class"),l=$(i),_=e(l);if(f.data("slug",o.data("slug")),$.event.trigger("wpf_ajax_before_replace"),t){(a=_.find(".product")).addClass("wpf_transient_product").removeClass("first last"),$(".products",f).first().append(a);var d=u.match(/columns-(\d)/);null!==d&&(d=parseInt(d[1]),$(".products",f).first().find(".product:nth-child("+d+"n+1)").addClass("first").end().find(".product:nth-child("+d+"n)").addClass("last"));var h=l.find(".wpf_infinity a");h.length>0&&$(".wpf_infinity a",f).data({current:h.data("current"),max:h.data("max")}),f.removeClass("wpf-infnitiy-scroll"),p=a.first(),delete r.append,setTimeout((()=>{t=!1}),200)}else $(".wpf-pagination").remove(),_.find(".product").length?(f.empty().append(_.removeAttr("class")),m(f)):f.empty().append(o.find(".wpf-no-products-found").clone().show());"undefined"!=typeof Themify&&Themify.lazyScroll(Themify.convert(f[0].querySelectorAll("[data-lazy]")).reverse(),!0),n&&"function"==typeof Themify?.isoTop?Themify.isoTop(f.find(".products")):s&&c(p),null!==a&&a.addClass("wpf_transient_end_product"),void 0!==window.wp&&void 0!==window.wp.mediaelement&&window.wp.mediaelement.initialize(),$.event.trigger("wpf_ajax_success"),function(t,n){var i;document.createEvent?(i=document.createEvent("HTMLEvents")).initEvent(n,!0,!0):document.createEventObject&&((i=document.createEventObject()).eventType=n),i.eventName=n,t.dispatchEvent?t.dispatchEvent(i):t.fireEvent&&htmlEvents["on"+n]?t.fireEvent("on"+i.eventType,i):t[n]?t[n]():t["on"+n]&&t["on"+n]()}(window,"resize")}}})}))},c=t=>{t.length>0&&$("html,body").animate({scrollTop:t.offset().top-$("#wpadminbar").outerHeight(!0)-10},1e3)},p=$(),r=function(i,o){if(p.length||(p=e()),!t&&(o||window.scrollY>p.offset().top+p.outerHeight()-n||window.innerHeight+window.pageYOffset>=document.body.offsetHeight)){var f=$(".wpf-search-container"),c=$(".wpf_infinity a",f),s=$(".wpf_form_"+f.data("slug"));if(s.length||(s=$(".wpf_form:first")),s.length){var u=c.data("current");u<=c.data("max")&&(s.find('input[name="wpf_page"]').val(u),t=!0,o||f.addClass("wpf-infnitiy-scroll"),a(s),u+1>c.data("max")&&($(".wpf_infinity").remove(),o||$(this).off("scroll",r)))}}},s=function(){$(".wpf_infinity_auto").length>0?($("#load-more").remove(),$(window).off("scroll",r).on("scroll",r)):$(".wpf_infinity").length>0?($(".wpf_infinity").closest(".wpf-hide-pagination").removeClass("wpf-hide-pagination"),$("#load-more").remove(),$("body").off("click.wpfInfinity").on("click.wpfInfinity",".wpf_infinity a",(t=>{t.preventDefault(),t.stopPropagation(),r(t,1)}))):$("body").off("click.wpfPagination").on("click.wpfPagination",".wpf-pagination a,.woocommerce-pagination a",(function(t){if("1"==new URL(window.location.href).searchParams.get("wpf")){var n=$(this).closest(".wpf-search-container").data("slug"),i=$(".wpf_form_"+n);i.length>0&&i.find('input[name="wpf_page"]').length>0&&(t.preventDefault(),i.find('input[name="wpf_page"]').val(function(t){var n=parseInt(t.text());if(!n){n=parseInt(t.closest(".woocommerce-pagination,.pagenav").find(".current").text()),t.hasClass("next")?++n:--n;var i=RegExp("(?<=paged=)[^\bs=]+");!n&&i.test(t.attr("href"))&&(n=t.attr("href").match(i)[0])}return n}($(this))),a(i))}}))};function a(t){var n=t.hasClass("wpf_form_scroll");t.removeClass("wpf_form_scroll"),t.trigger("submit"),n&&t.addClass("wpf_form_scroll")}var u=t=>{var n=document.createElement("textarea");return n.innerHTML=t,n.innerText},w=function(t){if($.fn.autocomplete){var n=[];$(".wpf_autocomplete input",t).each((function(){var t=$(this),i=t.closest(".wpf_item_sku").length>0?"sku":"title",o=t.next(".wpf-search-wait"),e=t.closest("form"),f=e.hasClass("wpf_submit_on_change");n[i]=[],$(this).autocomplete({minLength:0,classes:{"ui-autocomplete":"highlight"},source(c,p){var r=$.trim(c.term);f&&0===r.length&&0===c.term.length&&e.trigger("submit"),r.length<1||(c.term=r,(r=r.toLowerCase())in n[i]?p(n[i][r]):(o.show(),c.key=i,c.action="wpf_autocomplete","no"===t.data("variation")&&(c.variation="no"),$.post(wpf.ajaxurl,c,((t,e,f)=>{o.hide();for(const n in t)t[n].label=u(t[n].label);n[i][r]=t,p(t)}),"json")))},select(n,i){return(t=>{try{new URL(t)}catch(t){return!1}return!0})(i.item.value)?window.location=i.item.value:(t.val(i.item.value),f&&e.trigger("submit")),!1}}).on("focus",(function(){t.val().trim().length>0&&$(this).autocomplete("search")})).autocomplete("widget").addClass("wpf_ui_autocomplete")}))}},l=function(t){t.each((function(){var t=$(this).find(".wpf_items_group"),n=t.last().closest(".wpf_item"),i=n.offset().left;t.each((function(){var t=$(this).closest(".wpf_item");i<t.offset().left&&(n=t,i=t.offset().left)}))}))},m=function(t){t=t||$("body"),$(".wpf_form",t).css("visibility","visible"),function(t){var n,i=$(".wpf_layout_horizontal",t);i.length>0&&(l(i),i.find(".wpf_item:not(.wpf_item_onsale):not(.wpf_item_instock)").hover((function(){0===$(this).closest(".wpf-search-submit").length&&$(".wpf_ui_autocomplete",t).each((function(){if($(this).is(":hover"))return!1}))})),navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/)&&i.find(".wpf_item:not(.wpf_item_onsale):not(.wpf_item_instock) .wpf_item_name").click((function(){var t=$(this).parent(),n=t.children(".wpf_items_group").is(":visible"),i=t.hasClass("wpf_touched");n&&!i?(t.addClass("wpf_touch_tap"),t.trigger("mouseleave")):n||i?i&&t.removeClass("wpf_touched"):(t.removeClass("wpf_touch_tap"),t.trigger("mouseenter"),t.removeClass("wpf_touched"))})),$(window).resize((t=>{clearTimeout(n),n=setTimeout((()=>{l(i)}),500)})))}(t),function(t){$("body").off("click.wpfGroupToggle").on("click.wpfGroupToggle",".wpf_grouped_label",(function(t){var n=$(this).next(".wpf_items_group"),i=$(this);t.preventDefault(),n.is(":visible")?n.slideUp((()=>{i.addClass("wpf_grouped_close")})):n.slideDown((()=>{i.removeClass("wpf_grouped_close")}))})),$(".wpf_items_grouped:not(.wpf_layout_horizontal) .wpf_item_name",t).each((function(){$(this).closest(".wpf_item_onsale, .wpf_item_instock").length||$(this).addClass("wpf_grouped_label").trigger("click")}))}(t),$(".wpf_form",t).find("select").length&&!(()=>!!("ontouchstart"in window||navigator.msMaxTouchPoints>0))()&&(t=>{i(wpf.url+"js/select2.min.js",(()=>"function"==typeof $.fn.select2),(()=>{t()}))})((function(){!function(t){function n(t,n){var i=t.find('[value="'+n+'"]').text();t.next(".select2").find('[title="'+i+'"]').addClass("wpf_disabled")}$.fn.select2&&$(".wpf_form",t).find("select").each((function(){var t=$(this),i=t.prop("multiple"),o=!!i&&t.data("selected");t.select2({dir:wpf.rtl?"rtl":"ltr",minimumResultsForSearch:10,dropdownCssClass:"wpf_selectbox",allowClear:!o&&i,placeholder:!!i&&""}),o&&i&&(n(t,o),t.on("change",(i=>{n(t,o)})))}))}(t)})),$(".wpf_slider",t).length&&(t=>{var n=wpf.includes_url+"js/jquery/",i=[[n+"ui/core.min.js",()=>"object"==typeof $.ui],[n+"ui/mouse.min.js",()=>"function"==typeof $.ui.mouse],[n+"jquery.ui.touch-punch.js",()=>!("ontouchstart"in window)],[n+"ui/slider.min.js",()=>"function"==typeof $.ui.slider]];wpf.load_jquery_ui_widget&&i.unshift([n+"ui/widget.min.js",()=>"function"==typeof $.widget]),o(i,(()=>{t()}))})((function(){!function(t){$.fn.slider&&$(".wpf_slider",t).each((function(){var t=$(this).closest(".wpf_item"),n=t.find(".wpf_price_from"),i=t.find(".wpf_price_to"),o=parseInt($(this).data("min")),e=parseInt($(this).data("max")),f=parseFloat($(this).data("step")),c=t.closest("form"),p=parseInt(n.val()),r=parseInt(i.val()),s=t.find(".wpf-price-min"),a=t.find(".wpf-price-max");o===parseInt(o,10)&&e===parseInt(e,10)&&(p=p||o,r=r||e,$(this).slider({range:!0,min:o,step:isNaN(f)||f<=0?1:f,max:e,values:[p,r],slide(t,n){s.text(n.values[0]),a.text(n.values[1])},stop(t,o){n.val(o.values[0]),i.val(o.values[1]),c.hasClass("wpf_submit_on_change")&&c.trigger("submit")}}),$(this).slider().on("slidechange",((t,n)=>{$(n.handle).find(".wpf_tooltip_amount").html(n.value)})))}))}(t)})),n=$(".wpf_form").data("infinitybuffer"),s(),function(){function t(t,n){var i=n.closest(".wpf-search-container").data("slug"),o=$(".wpf_form_"+i);o.length>0&&o.find('input[name="orderby"]').length>0&&(o.find('input[name="orderby"]').val(t),o.trigger("submit"))}const n=$(".wpf-search-container");n.on("form.woocommerce-ordering","submit",(function(n){n.preventDefault(),t($(this).find("select").val(),$(this))})),n.find("select.orderby").on("change",(function(n){t($(this).val(),$(this))})),n.data("slug")||n.data("slug",$(".wpf_form").last().data("slug"))}(),function(t){$(".wpf_submit_on_change",t).length>0&&$(".wpf_submit_on_change",t).each((function(){var t=$(this);t.find('input[type!="text"],select').on("change",(function(n){"price"==$(this).attr("name")&&$(this).is(":checked")&&($(".wpf_price_range label").removeClass("active"),$(this).next("label").addClass("active")),t.trigger("submit")})),t.find(".wpf_pa_link").on("click",(function(t){t.preventDefault(),$(this).find("input").prop("checked",!0).trigger("change")}))}))}(t),$(".wpf_autocomplete input",t).length&&(t=>{var n=wpf.includes_url+"js/jquery/ui/",i=[[n+"core.min.js",()=>"object"==typeof $.ui],[n+"position.min.js",()=>"object"==typeof $.ui.position],[n+"menu.min.js",()=>"function"==typeof $.ui.menu],[n+"autocomplete.min.js",()=>"function"==typeof $.ui.autocomplete]];wpf.load_jquery_ui_widget&&i.unshift([n+"widget.min.js",()=>"function"==typeof $.widget]),o(i,(()=>{t()}))})((()=>{w(t)})),f(),function(t){$(".wpf_reset_btn",t).each((function(){this.addEventListener("click",(function(t){const n=this.closest("form"),i=n.querySelectorAll("input,select");for(let t=i.length-1;t>=0;t--)i[t].name="";return n.submit(),!1}))}))}(t),function(t){if(window.location.href.includes("wpf=")){const n=t.hasClass("wpf-search-container")?t:t.find(".wpf-search-container");$(".woocommerce-pagination",n).each((function(){$(this).closest(".wpf-pagination").length||$(this).addClass("wpf-hide")}))}$(".wpf-pagination",t).each((function(){$(this).insertAfter($(this).parent())}))}(t)};window.addEventListener("load",(()=>{if($(".wpf_form").length>0){$("body").addClass("woocommerce");var t,n=document.querySelector(".et_pb_module.et_pb_shop .woocommerce"),i=document.querySelector(".elementor-element.elementor-wc-products");if(null!==n){n.className+=" wpf-search-container";var o=n.querySelector("ul.products");o&&(t=o.className.match(/columns-(\d+)/))}else if(null!==i)i.className+=" wpf-search-container",t=i.querySelector("ul.products").className.match(/columns-(\d+)/);else{var e=document.querySelector(".wc-products");null!==e?t=e.className.match(/grid(\d+)/):null!==(e=document.querySelector(".woocommerce > .products"))&&(t=null!==(t=e.className.match(/columns-(\d+)/))?t:e.parentElement.className.match(/columns-(\d+)/))}null!==t&&null!=t&&(document.querySelector('[name="wpf_cols"]').value=t[1]),m()}}),{once:!0,passive:!0})}(jQuery);